policyDefinitions:
  cors:
    origin: "*"

endpoints:
  - path: "/example"
    target:
      url: "https://httpbin.org/bearer"
    request:
      headers:
        Authorization: "Bearer ${API_KEY}"
    policies:
      - cors
    middleware:
      - path: "./middleware/example.ts"
        function: "example"
  - path: "/hello"
    target:
      url: "https://httpbin.org/bearer"
    request:
      headers:
        Authorization: "Bearer ${API_KEY}"
    policies:
      - cors
    middleware:
      - path: "./middleware/hello.js"
        function: "hello"
  - path: "/test"
    target:
      url: "https://httpbin.org/bearer"
    request:
      headers:
        Authorization: "Bearer ${API_KEY}"
    policies:
      - cors
    middleware:
      - path: "./middleware/test.ts"
        function: "test"
